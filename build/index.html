<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>UCL API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">Shell</a>
              <a href="#" data-language-name="python">Python</a>
              <a href="#" data-language-name="javascript">JavaScript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://uclapi.com/dashboard/'>Get an API Key</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="welcome">Welcome</h1>

<p>Yay, you made it! ðŸŽ‰</p>

<p>Welcome to the documentation for UCL&rsquo;s brand new open API. Each service is listed below with examples in three different programming languages (Shell script using cURL, Python and JavaScript) to help you get going as quickly as possible.</p>

<p>The API will be made up of several services, each of which will be separately versioned and explained. Every service will be documented here with important information, tips and examples.</p>

<h2 id="get-your-api-key">Get Your API Key</h2>

<p>Before you can use the API you should head to the <a href="https://uclapi.com/dashboard">API Dashboard</a> and sign up using your UCL user account. Once logged into the dashboard simply name your app and you&rsquo;ll be given a key that you can use to access all the services. Simples!</p>

<h1 id="version-information">Version Information</h1>

<p>Each service has a header named <code class="prettyprint">uclapi-servicenamehere-version</code> which you can add to your requests, where <code class="prettyprint">servicenamehere</code> is the endpoint name for the service you are using. For example, for the Room Bookings service you would set the <code class="prettyprint">uclapi-roombookings-version</code> header.</p>
<pre class="highlight shell tab-shell"><code>curl -H <span class="s2">"uclapi-roombookings-version: 1"</span> https://uclapi.com/roombookings/rooms?token<span class="o">=</span>uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"token"</span><span class="p">:</span> <span class="s">"uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span>
<span class="p">}</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"uclapi-roombookings-version"</span><span class="p">:</span> <span class="s">"1"</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://uclapi.com/roombookings/rooms"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">myHeaders</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Headers</span><span class="p">();</span>
<span class="nx">myHeaders</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">"uclapi-roombookings-version"</span><span class="p">,</span> <span class="s2">"1"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">initData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="nx">myHeaders</span><span class="p">,</span>
  <span class="na">mode</span><span class="p">:</span> <span class="s1">'cors'</span><span class="p">,</span>
  <span class="na">cache</span><span class="p">:</span> <span class="s1">'default'</span>
<span class="p">};</span>
<span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://uclapi.com/roombookings/rooms?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">,</span> <span class="nx">initData</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">json</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
  <span class="p">})</span>
</code></pre>
<aside class="warning">
  <strong>Really Important Warning</strong>
  <hr>
  <ul>
    <li>By default, every UCL API request gets sent to the <strong>latest version</strong> of the service you requested.</li>
    <li>This is okay for test purposes.</li>
    <li>If you are deploying into production you must follow the versioning instructions to ensure you are not affected by breaking changes.</li>
  </ul>
</aside>

<p>On the right hand side you&rsquo;ll see a code sample with the version data added. We are specifying that version <code class="prettyprint">1</code> of the <code class="prettyprint">roombookings</code> service should be used for the request URL <code class="prettyprint">https://uclapi.com/roombookings/rooms?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb</code>. You should amend the example accordingly for the service and API version you are using.</p>

<h1 id="room-bookings">Room Bookings</h1>

<p>The base url is <code class="prettyprint">https://uclapi.com/roombookings/</code></p>

<table><thead>
<tr>
<th>Version Header</th>
<th>Latest Version</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">uclapi-roombookings-version</code></td>
<td><code class="prettyprint">1</code></td>
</tr>
</tbody></table>

<h2 id="get-rooms">Get Rooms</h2>

<p><strong>Endpoint:</strong> <code class="prettyprint">https://uclapi.com/roombookings/rooms</code></p>

<p>This endpoint returns rooms and information about them.
If you don&rsquo;t specify any query parameters besides the <code class="prettyprint">token</code>, all rooms will be returned.<br>
<em>Note: This endpoint only returns publicly bookable rooms. Departmentally bookable rooms are not included.</em></p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h3 id="query-parameters">Query Parameters</h3>
<pre class="highlight shell tab-shell"><code>curl https://uclapi.com/roombookings/rooms?token<span class="o">=</span>uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"token"</span><span class="p">:</span> <span class="s">"uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://uclapi.com/roombookings/rooms"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://uclapi.com/roombookings/rooms?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">json</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
  <span class="p">})</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td><code class="prettyprint">uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb</code></td>
<td>Required</td>
<td>Authentication token.</td>
</tr>
<tr>
<td><code class="prettyprint">roomid</code></td>
<td><code class="prettyprint">433</code></td>
<td>Optional</td>
<td>The room ID (not to be confused, with the <code class="prettyprint">roomname</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">roomname</code></td>
<td><code class="prettyprint">Torrington (1-19) 433</code></td>
<td>Optional</td>
<td>The name of the room. It often includes the name of the site (building) as well.</td>
</tr>
<tr>
<td><code class="prettyprint">siteid</code></td>
<td><code class="prettyprint">086</code></td>
<td>Optional</td>
<td>Every room is inside a site (building). All sites have IDs.</td>
</tr>
<tr>
<td><code class="prettyprint">sitename</code></td>
<td><code class="prettyprint">Torrington Place, 1-19</code></td>
<td>Optional</td>
<td>Every site (building) has a name. In some cases this is contained in the <code class="prettyprint">roomname</code> as well.</td>
</tr>
<tr>
<td><code class="prettyprint">classification</code></td>
<td><code class="prettyprint">CR</code></td>
<td>Optional</td>
<td>The type of room. <code class="prettyprint">LT</code> = Lecture Theatre, <code class="prettyprint">CR</code> = Classroom, <code class="prettyprint">SS</code> = Social Space, <code class="prettyprint">PC1</code> = Public Cluster.</td>
</tr>
<tr>
<td><code class="prettyprint">capacity</code></td>
<td><code class="prettyprint">55</code></td>
<td>Optional</td>
<td>Every room has a set capacity of how many people can fit inside it. When supplied, all rooms with the given capacity or greater will be returned.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rooms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"roomname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilkins Building (Main Building) Portico"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"roomid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Z4"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"siteid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"005"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sitename"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Building"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
      </span><span class="s2">"classification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SS"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"automated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Gower Street"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"WC1E 6BT"</span><span class="p">,</span><span class="w">
          </span><span class="s2">""</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The room field contains a list of rooms that match your query. If no filters are applied, all rooms will be returned.</p>

<table><thead>
<tr>
<th>Room Property</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">roomname</code></td>
<td><code class="prettyprint">Wilkins Building (Main Building) Portico</code></td>
<td>The name of the room. It often includes the name of the site (building) as well.</td>
</tr>
<tr>
<td><code class="prettyprint">roomid</code></td>
<td><code class="prettyprint">Z4</code></td>
<td>The room ID (not to be confused with the <code class="prettyprint">roomname</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">siteid</code></td>
<td><code class="prettyprint">005</code></td>
<td>Every room is inside a site (building). All sites have IDs.</td>
</tr>
<tr>
<td><code class="prettyprint">sitename</code></td>
<td><code class="prettyprint">Main Building</code></td>
<td>The name of the site (building).</td>
</tr>
<tr>
<td><code class="prettyprint">capacity</code></td>
<td><code class="prettyprint">50</code></td>
<td>The number of people that can fit in the room.</td>
</tr>
<tr>
<td><code class="prettyprint">classification</code></td>
<td><code class="prettyprint">SS</code></td>
<td>The type of room. <code class="prettyprint">LT</code> = Lecture Theatre, <code class="prettyprint">CR</code> = Classroom, <code class="prettyprint">SS</code> = Social Space, <code class="prettyprint">PC1</code> = Public Cluster.</td>
</tr>
<tr>
<td><code class="prettyprint">automated</code></td>
<td><code class="prettyprint">N</code></td>
<td>Whether bookings in this room will be confirmed automatically. <code class="prettyprint">A</code> stands for automated, and <code class="prettyprint">N</code> for not automated. <code class="prettyprint">P</code> represents that the confirmation will be automatic, but only under certain circumstances.</td>
</tr>
<tr>
<td><code class="prettyprint">location</code></td>
<td>-</td>
<td>Contains an object with the key <code class="prettyprint">address</code>, whose value is an array of address information, which when combined will make up a complete address.</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Error</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">No token provided</code></td>
<td>Gets returned when you have not supplied a <code class="prettyprint">token</code> in your request.</td>
</tr>
<tr>
<td><code class="prettyprint">Token does not exist</code></td>
<td>Gets returned when you supply an invalid <code class="prettyprint">token</code>.</td>
</tr>
</tbody></table>

<h2 id="get-bookings">Get Bookings</h2>

<h3 id="regular-request">Regular Request</h3>

<p><strong>Endpoint:</strong> <code class="prettyprint">https://uclapi.com/roombookings/bookings</code></p>

<p>This endpoint shows the results to a bookings or space availability query. It returns a paginated list of bookings.
<em>Note: This endpoint only returns publicly displayed bookings. Departmental bookings are not included.</em></p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h4 id="query-parameters">Query Parameters</h4>
<pre class="highlight shell tab-shell"><code>curl https://uclapi.com/roombookings/bookings?token<span class="o">=</span>uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb&amp;contact<span class="o">=</span>Mark
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"token"</span><span class="p">:</span> <span class="s">"uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">,</span>
  <span class="s">"contact"</span><span class="p">:</span> <span class="s">"Mark"</span>
<span class="p">}</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://uclapi.com/roombookings/bookings"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://uclapi.com/roombookings/bookings?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb&amp;contact=Mark"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">json</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
  <span class="p">})</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td><code class="prettyprint">uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb</code></td>
<td>Required</td>
<td>Authentication token.</td>
</tr>
<tr>
<td>roomid</td>
<td><code class="prettyprint">433</code></td>
<td>Optional</td>
<td>The room ID (not to be confused with the <code class="prettyprint">roomname</code>).</td>
</tr>
<tr>
<td>start_datetime</td>
<td><code class="prettyprint">2011-03-06T03:36:45+00:00</code></td>
<td>Optional</td>
<td>Start datetime of the booking. Returns bookings with a <code class="prettyprint">start_datetime</code> after the one supplied. Follows the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 formatting standard</a>.</td>
</tr>
<tr>
<td>end_datetime</td>
<td><code class="prettyprint">2011-03-06T03:36:45+00:00</code></td>
<td>Optional</td>
<td>End datetime of the booking. Returns bookings with an <code class="prettyprint">end_datetime</code> before the one supplied. Follows the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 formatting standard</a>.</td>
</tr>
<tr>
<td>date</td>
<td><code class="prettyprint">20160202</code></td>
<td>Optional</td>
<td>Date of the bookings you need, in the format <em>YYYYMMDD</em>. Returns bookings occurring on this day. <strong>This query parameter is only considered when <code class="prettyprint">end_datetime</code> and <code class="prettyprint">start_datetime</code> are not supplied.</strong></td>
</tr>
<tr>
<td>siteid</td>
<td><code class="prettyprint">086</code></td>
<td>Optional</td>
<td>Every room is inside a site (building). All sites have IDs.</td>
</tr>
<tr>
<td>description</td>
<td><code class="prettyprint">Lecture</code></td>
<td>Optional</td>
<td>Describes what the booking is. Could contain a module code (for example <code class="prettyprint">WIBRG005</code>) or just the type of activity (for example <code class="prettyprint">Lecture</code>).</td>
</tr>
<tr>
<td>contact</td>
<td><code class="prettyprint">Mark Herbster</code></td>
<td>Optional</td>
<td>The name of the person who made the booking. Substrings of the contact name can be used: Queries for <code class="prettyprint">Mark</code> will include <code class="prettyprint">Mark Herbster</code>. Sometimes, a society or student group may be the contact for a booking.</td>
</tr>
<tr>
<td>results_per_page</td>
<td><code class="prettyprint">50</code></td>
<td>Optional</td>
<td>Number of bookings returned per page. Maximum allowed value is <code class="prettyprint">100</code>. Defaults to <code class="prettyprint">20</code>.</td>
</tr>
<tr>
<td>roomname</td>
<td><code class="prettyprint">Cruciform Building B.3.05</code></td>
<td>Optional</td>
<td>The name of the room. It often includes the name of the site (building) as well.</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="s2">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">  
          </span><span class="s2">"slotid"</span><span class="p">:</span><span class="w"> </span><span class="mi">998503</span><span class="p">,</span><span class="w">
          </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-02T18:00:00+00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"split weeks to assist rooming 29.06"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"roomname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Torrington (1-19) 433"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"siteid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"086"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ms Leah Markwick"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"weeknumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"roomid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"433"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-02T09:00:00+00:00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45699"</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"next_page_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6hb14hXjRV"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">1197</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<table><thead>
<tr>
<th>Field</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ok</td>
<td><code class="prettyprint">true</code></td>
<td>Boolean indicating whether the request was successful.</td>
</tr>
<tr>
<td>bookings</td>
<td>-</td>
<td>An array of booking objects.</td>
</tr>
<tr>
<td>next_page_exists</td>
<td><code class="prettyprint">true</code></td>
<td>True if there is another page containing more bookings.</td>
</tr>
<tr>
<td>page_token</td>
<td><code class="prettyprint">6hb14hXjRV</code></td>
<td>Page token parameter that needs to be supplied to view subsequent pages. Only included when the next page exists.</td>
</tr>
</tbody></table>

<p>The bookings array contains booking objects, which each have the following properties.</p>

<table><thead>
<tr>
<th>Booking Property</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>slotid</td>
<td><code class="prettyprint">1024991</code></td>
<td>An ID for the booking. Combined with <code class="prettyprint">weeknumber</code> they can be assumed to be almost unique.</td>
</tr>
<tr>
<td>contact</td>
<td><code class="prettyprint">Wilhelm Klopp - UCLU Tech Society</code></td>
<td>Name of the person (and society/student group, if applicable) who made the booking.</td>
</tr>
<tr>
<td>start_time</td>
<td><code class="prettyprint">2016-10-20T18:00:00+00:00</code></td>
<td>Start datetime of the booking. Returns bookings with a <code class="prettyprint">start_datetime</code> after the one supplied. Follows the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 formatting standard</a>.</td>
</tr>
<tr>
<td>end_time</td>
<td><code class="prettyprint">2016-10-20T19:00:00+00:00</code></td>
<td>End datetime of the booking. Returns bookings with an <code class="prettyprint">end_datetime</code> before the one supplied. Follows the <a href="https://en.wikipedia.org/wiki/ISO_8601">ISO 8601 formatting standard</a>.</td>
</tr>
<tr>
<td>roomid</td>
<td><code class="prettyprint">B305</code></td>
<td>The room ID (not to be confused with the <code class="prettyprint">roomname</code>).</td>
</tr>
<tr>
<td>roomname</td>
<td><code class="prettyprint">Cruciform Building B.3.05</code></td>
<td>The name of the room. It often includes the name of the site (building) as well.</td>
</tr>
<tr>
<td>siteid</td>
<td><code class="prettyprint">044</code></td>
<td>Every room is inside a site (building). All sites have IDs.</td>
</tr>
<tr>
<td>weeknumber</td>
<td><code class="prettyprint">8</code></td>
<td>The week the booking is in.</td>
</tr>
<tr>
<td>phone</td>
<td><code class="prettyprint">45699</code></td>
<td>Phone number of the room (UCL extension).</td>
</tr>
<tr>
<td>count</td>
<td><code class="prettyprint">1197</code></td>
<td>Total number of bookings matching the query. The <code class="prettyprint">count</code> field will only be in the first response to a query</td>
</tr>
</tbody></table>

<h3 id="paginated-request">Paginated Request</h3>

<p><strong>Endpoint:</strong> <code class="prettyprint">https://uclapi.com/roombookings/bookings</code></p>

<p>Paginated requests also go to the <code class="prettyprint">/bookings</code> endpoint but, unlike the regular requests, only the <code class="prettyprint">token</code> and <code class="prettyprint">page_token</code> should be supplied. All other filters are &ldquo;remembered&rdquo; from the initiating regular request.</p>

<p>The API &ldquo;remembers&rdquo; how many requests you&rsquo;ve made, so to move through the pages you can keep making the same request (with the same <code class="prettyprint">token</code> and <code class="prettyprint">page_token</code>) until the response&rsquo;s <code class="prettyprint">next_page_exists</code> field is <code class="prettyprint">false</code>.</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h4 id="query-parameters">Query Parameters</h4>
<pre class="highlight shell tab-shell"><code>curl https://uclapi.com/roombookings/bookings?token<span class="o">=</span>uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb&amp;page_token<span class="o">=</span>6hb14hXjRV
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s">"token"</span><span class="p">:</span> <span class="s">"uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">,</span>
  <span class="s">"page_token"</span><span class="p">:</span> <span class="s">"6hb14hXjRV"</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://uclapi.com/roombookings/bookings"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://uclapi.com/roombookings/bookings?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb&amp;page_token=6hb14hXjRV"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">json</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
  <span class="p">})</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td><code class="prettyprint">uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb</code></td>
<td>Required</td>
<td>Authentication token</td>
</tr>
<tr>
<td><code class="prettyprint">page_token</code></td>
<td><code class="prettyprint">6hb14hXjRV</code></td>
<td>Required</td>
<td>Page token received in initial <code class="prettyprint">/bookings</code> request. The page token does not change as you paginate through the results.</td>
</tr>
</tbody></table>

<h4 id="response">Response</h4>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"page_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"wmCUiJgItq"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_page_exists"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bookings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"roomname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Christopher Ingold Building XLG2 Auditorium"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slotid"</span><span class="p">:</span><span class="w"> </span><span class="mi">733044</span><span class="p">,</span><span class="w">
        </span><span class="s2">"siteid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"067"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T13:00:00+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"roomid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XLG2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weeknumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-03-20T14:00:00+00:00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Dr Mark Roberts"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The response to a paginated request is identical to that of a regular request, except that no <code class="prettyprint">count</code> field is provided.</p>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Error</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">No token provided</code></td>
<td>Gets returned when you have not supplied a <code class="prettyprint">token</code> in your request.</td>
</tr>
<tr>
<td><code class="prettyprint">Token does not exist</code></td>
<td>Gets returned when you supply an invalid <code class="prettyprint">token</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">date/time isn&#39;t formatted as suggested in the docs</code></td>
<td>Passed datetime parameter does not conform to the ISO8601 format</td>
</tr>
<tr>
<td><code class="prettyprint">results_per_page should be an integer</code></td>
<td><code class="prettyprint">results_per_page</code> should always be an integer.</td>
</tr>
<tr>
<td><code class="prettyprint">Page token does not exist</code></td>
<td>The passed <code class="prettyprint">page_token</code> parameter isn&rsquo;t a valid one.</td>
</tr>
</tbody></table>

<h2 id="get-equipment">Get Equipment</h2>

<p><strong>Endpoint:</strong> <code class="prettyprint">https://uclapi.com/roombookings/equipment</code></p>

<p>This endpoint returns any equipment/feature information about a specific room. So, for example whether there is a <code class="prettyprint">Whiteboard</code> or a <code class="prettyprint">DVD Player</code> in the room. A full example can be seen <a href="https://roombooking.ucl.ac.uk/rb/bookableSpace/roomInfo.html?room=B15B&amp;building=016&amp;invoker=EFD">here.</a></p>

<p>You <em>need</em> to supply a <code class="prettyprint">token</code>, <code class="prettyprint">roomid</code>, and <code class="prettyprint">siteid</code> to get a response.</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h3 id="query-parameters">Query Parameters</h3>
<pre class="highlight shell tab-shell"><code>curl https://uclapi.com/roombookings/equipment?token<span class="o">=</span>uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"https://uclapi.com/roombookings/equipment?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="s2">"https://uclapi.com/roombookings/equipment?token=uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb"</span><span class="p">)</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">response</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">()</span>
<span class="p">})</span>
<span class="p">.</span><span class="nx">then</span><span class="p">((</span><span class="nx">json</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
  <span class="p">})</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Example</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td><code class="prettyprint">uclapi-5d58c3c4e6bf9c-c2910ad3b6e054-7ef60f44f1c14f-a05147bfd17fdb</code></td>
<td>Required</td>
<td>Authentication token</td>
</tr>
<tr>
<td><code class="prettyprint">roomid</code></td>
<td><code class="prettyprint">433</code></td>
<td>Required</td>
<td>The room ID (not to be confused with the <code class="prettyprint">roomname</code>)</td>
</tr>
<tr>
<td><code class="prettyprint">siteid</code></td>
<td><code class="prettyprint">086</code></td>
<td>Required</td>
<td>Every room is inside a site (building). All sites have IDs.</td>
</tr>
</tbody></table>

<h3 id="response">Response</h3>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"ok"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"equipment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FF"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Managed PC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"units"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FE"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chairs with Tables"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"units"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The equipment field contains a list of equipment items. This list can have a different length depending on the room, and it can also be empty.</p>

<p>Each equipment item contains a <code class="prettyprint">type</code>, a <code class="prettyprint">description</code>, and the number of <code class="prettyprint">units</code>.</p>

<table><thead>
<tr>
<th>Equipment Item</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td><code class="prettyprint">FE</code></td>
<td>The type of equipment. Either Fixed Equipment (<code class="prettyprint">FE</code>) or Fixed Feature (<code class="prettyprint">FF</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td><code class="prettyprint">Managed PC</code></td>
<td>What the piece of equipment actually is.</td>
</tr>
<tr>
<td><code class="prettyprint">units</code></td>
<td><code class="prettyprint">1</code></td>
<td>The number of times this piece of equipment exists in the room.</td>
</tr>
</tbody></table>

<h3 id="errors">Errors</h3>

<table><thead>
<tr>
<th>Error</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">No token provided</code></td>
<td>Gets returned when you have not supplied a <code class="prettyprint">token</code> in your request.</td>
</tr>
<tr>
<td><code class="prettyprint">Token does not exist</code></td>
<td>Gets returned when you supply an invalid <code class="prettyprint">token</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">No roomid supplied</code></td>
<td>Gets returned when you don&rsquo;t supply a <code class="prettyprint">roomid</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">No siteid supplied</code></td>
<td>Gets returned when you don&rsquo;t supply a <code class="prettyprint">siteid</code>.</td>
</tr>
</tbody></table>

<h1 id="get-involved">Get Involved</h1>

<p>This documentation is all open sourced at <a href="https://github.com/uclapi/apiDocs">https://github.com/uclapi/apiDocs</a>.</p>

<p>The full API is open sourced at <a href="https://github.com/uclapi/uclapi">https://github.com/uclapi/uclapi</a>.</p>

<p>Any and all contributions are welcome! If you spot a tpyo or error, feel free to fix it and submit a pull request :)</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">Shell</a>
                <a href="#" data-language-name="python">Python</a>
                <a href="#" data-language-name="javascript">JavaScript</a>
          </div>
      </div>
    </div>
  </body>
</html>
